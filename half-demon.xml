<?xml version="1.0" encoding="utf-8"?>
<elements>
    <info>
        <name>Half-Demon</name>
        <description>5e homebrew template - inspired by Dante from Devil May Cry</description>
        <author>Red</author>
        <update version="1.0.0">
            <file name="race-half-demon-template.xml" url="https://raw.githubusercontent.com/RedHomebrew/elements/main/race-half-demon-template.xml" />
        </update>
    </info>

    <element name="Half-Demon" type="Race" source="Red's Homebrew" id="ID_RACE_HALF_DEMON">
        <description>
            <h4>HALF-DEMON TEMPLATE</h4>
            <p class="flavor">When a mortal bloodline is tainted with the essence of a powerful demon—whether through a pact, inheritance, or infernal experimentation—the result may be a Half-Demon. Agile, powerful, and often wrestling with their inner nature, Half-Demons walk the line between destruction and redemption.</p>
            <h4>Template Features</h4>
            <p>
                <span class="feature">Type.</span> Your creature type becomes Fiend in addition to your original type.<br/>
                <span class="feature">Ability Score Increase.</span> Your Dexterity or Strength score increases by 2, and your Charisma increases by 1.<br/>
                <span class="feature">Demonic Resilience.</span> You have resistance to fire damage and to nonmagical bludgeoning, piercing, and slashing damage while below half your hit points.<br/>
                <span class="feature">Demonic Surge.</span> Once per short rest, you can activate your demonic power for 1 minute as a bonus action. You gain temporary hit points equal to your level, your speed increases by 10 feet, your unarmed strikes deal 1d6 + Strength or Dexterity modifier force damage, and your attacks count as magical.<br/>
                <span class="feature">Fiendish Legacy.</span> You gain one cantrip from the Warlock spell list. You can cast <i>Hellish Rebuke</i> (2nd level) once per long rest, and <i>Misty Step</i> once per long rest. Charisma is your spellcasting ability for these spells.<br/>
                <span class="feature">Agile Devil.</span> You are always under the effect of <i>feather fall</i> (no reaction required). You gain proficiency in Acrobatics and can make standing jumps as if you had a 10-foot running start.<br/>
                <span class="feature">Languages.</span> You can speak, read, and write Common and Infernal.<br/>
            </p>
        </description>
        <sheet display="false"/>
        <rules>
            <select type="Ability Score Improvement" name="Custom ASI +2 (Half-Demon)" supports="Custom Ability Score Increase 2"/>
            <select type="Ability Score Improvement" name="Custom ASI +1 (Half-Demon)" supports="Custom Ability Score Increase 1"/>
            <stat name="innate speed" value="30" bonus="base"/>
            <stat name="darkvision" value="60" bonus="racial"/>
            <grant type="Vision" id="ID_VISION_DARKVISION"/>
            <grant type="Size" id="ID_SIZE_MEDIUM"/>
            <grant type="Language" id="ID_LANGUAGE_COMMON"/>
            <grant type="Language" id="ID_LANGUAGE_INFERNAL"/>
            <grant type="Proficiency" id="ID_PROFICIENCY_SKILL_ACROBATICS"/>
            <grant type="Racial Trait" id="ID_TRAIT_HALF_DEMON_RESILIENCE"/>
            <grant type="Racial Trait" id="ID_TRAIT_HALF_DEMON_SURGE"/>
            <grant type="Racial Trait" id="ID_TRAIT_HALF_DEMON_LEGACY"/>
            <grant type="Racial Trait" id="ID_TRAIT_HALF_DEMON_AGILE_DEVIL"/>
        </rules>
    </element>

    <element name="Demonic Resilience" type="Racial Trait" source="Red's Homebrew" id="ID_TRAIT_HALF_DEMON_RESILIENCE">
        <description>
            <p>You have resistance to fire damage and to nonmagical bludgeoning, piercing, and slashing damage while below half your hit points.</p>
        </description>
        <sheet>
            <description>Resist fire and nonmagical B/P/S damage while below half HP.</description>
        </sheet>
    </element>

    <element name="Demonic Surge" type="Racial Trait" source="Red's Homebrew" id="ID_TRAIT_HALF_DEMON_SURGE">
        <description>
            <p>Once per short rest, activate your demonic power for 1 minute. Gain temporary HP equal to your level, +10 ft speed, unarmed strikes deal 1d6 + modifier force damage, and make one extra weapon/unarmed attack as a bonus action each turn. Attacks are magical.</p>
        </description>
        <sheet>
            <description>Demonic form: temp HP, speed +10, force damage unarmed strikes, bonus attack. Magical attacks.</description>
        </sheet>
    </element>

    <element name="Fiendish Legacy" type="Racial Trait" source="Red's Homebrew" id="ID_TRAIT_HALF_DEMON_LEGACY">
        <description>
            <p>You know one cantrip from the Warlock spell list. At 3rd level, you can cast <i>Hellish Rebuke</i> (2nd level) once per long rest. At 5th level, you can cast <i>Misty Step</i> once per long rest. Charisma is your spellcasting ability.</p>
        </description>
        <sheet>
            <description>Cantrip (Warlock), Hellish Rebuke (2nd level), Misty Step; 1/LR. Charisma-based.</description>
        </sheet>
        <rules>
            <select type="Spell" name="Cantrip (Fiendish Legacy)" supports="Class=Warlock"/>
            <grant type="Spell" id="ID_PHB_SPELL_HELLISH_REBUKE"/>
            <grant type="Spell" id="ID_PHB_SPELL_MISTY_STEP"/>
        </rules>
    </element>

    <element name="Agile Devil" type="Racial Trait" source="Red's Homebrew" id="ID_TRAIT_HALF_DEMON_AGILE_DEVIL">
        <description>
            <p>You are always under the effect of feather fall (no reaction required). You have proficiency in Acrobatics, and can make standing jumps as if with a 10-foot running start.</p>
        </description>
        <sheet>
            <description>Feather fall active, Acrobatics proficiency, boosted standing jump.</description>
        </sheet>
    </element>
</elements>
